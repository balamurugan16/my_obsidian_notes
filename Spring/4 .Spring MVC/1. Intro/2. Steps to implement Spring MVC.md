# Steps to implement Spring MVC
---
There are 5 steps in total to implement the architecture of Spring MVC

### 1. Configure the DispatcherServlet

- DispatcherServlet is a Servlet provided by SpringMVC.
- It follows the FrontController Design pattern
- All the requests from the client comes to the DispatcherRequest
- It internally uses HandlerMapper to map the requests to corresponding controllers.

The servlet must be initialized in the `web.xml` file like this

```xml
<servlet>
	<servlet-name>dispatcher</servlet-name>
	<servlet-class>
		org.springframework.web.servlet.DispatcherServlet
	</servlet-class>
	<load-on-startup>1</load-on-startup>
</servlet>

<servlet-mapping>
	<servlet-name>dispatcher</servlet-name>
	<url-pattern>/</url-pattern>
</servlet-mapping>

```

The name of the servlet is **important**.

### 2. Create the Spring Configuration file

The Spring config file is the XML file that carries the bean details. The Config file follows a naming convention

### `<name_of_the_dispatcher_servlet>-servlet.xml`

In this case it is *dispatcher-servlet.xml*

After creating the file, the basic beans definition with the namespaces should be added like this

``` xml

<?xml version="1.0" encoding="UTF-8"?>

<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:context="http://www.springframework.org/schema/context"
	xmlns:p="http://www.springframework.org/schema/p"
	xmlns:c="http://www.springframework.org/schema/c"
	xmlns:tx="http://www.springframework.org/schema/tx"
	xsi:schemaLocation="http://www.springframework.org/schema/beans
    http://www.springframework.org/schema/beans/spring-beans.xsd
    http://www.springframework.org/schema/context
    http://www.springframework.org/schema/context/spring-context.xsd
    http://www.springframework.org/schema/tx
    http://www.springframework.org/schema/tx/spring-tx.xsd">


</beans>

```


### 3. Configure the ViewResolver

The ViewResolver is a class that the DispatcherServlet depends on in resolving the exact file of the view that is being generated by the Controller.

The ViewResolver adds a prefix and a suffix to the viewname that is given by the controller.

> prefix + viewName + suffix
> /WEB-INF/views/ + home + .jsp

This is useful when the jsp files are needed to be changed into something like HTML or JSF etc. Changing the extensions of the view that the every controller returns is tough.
ViewResolver makes it easy by accessing it at a single place

ViewResolver is configured as a bean like this

```xml
	<bean id="viewResolver"
		class="org.springframework.web.servlet.view.InternalResourceViewResolver">
		<property name="prefix" value="/WEB-INF/" />
		<property name="suffix" value=".jsp" />
	</bean>

```

### 4. Creating the Controller

Controller is a java class which will be responsible for processing the data and returning the corresponding view that the client asks for.

The **@Component** annotation makes a class a controller. 

The **@RequestMapping** annotation takes in the URL endpoint which makes the controller map the method based on the request

A simple controller example,

```java
@Controller
public class HomeController {
	
	@RequestMapping("home")
	public ModelAndView home() {
		ModelAndView mv = new ModelAndView();
		mv.addObject("name", "Bala");
		mv.addObject("ID", 1);
		mv.setViewName("home");
		return mv;
	}
}
```

### 5. Creating the view

The view can be a JSP/ HTML/ JSF page which can be returned to the client by the Servlet. 

A sample JSP view

```html
<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>Home</title>
	</head>
	<body>
		<h1>Home</h1>
		<strong><%= request.getAttribute("name") %></strong>
		<strong><%= request.getAttribute("ID") %></strong>
	</body>
</html>
```